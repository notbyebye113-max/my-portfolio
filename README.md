<style>
  /* Masonry layout */
  .masonry {
    column-count: 1;
    column-gap: 1rem;
  }

  @media (min-width: 640px) {
    .masonry {
      column-count: 2;
    }
  }

  @media (min-width: 1024px) {
    .masonry {
      column-count: 3;
    }
  }

  .masonry-item {
    break-inside: avoid;
    margin-bottom: 1rem;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .masonry-item img {
    width: 100%;
    display: block;
    border-radius: 12px;
    transition: transform .4s ease;
  }

  .masonry-item img:hover {
    transform: scale(1.05);
  }
</style>

<div class="masonry reveal">
  
  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/A7400001.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1548545811-92523297a7da?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/A7409308.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/A7409325.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1511285560982-1351cdeb9821?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/A7409977.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/DSC06869.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1606800052052-a08af7148866?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/DSC06887.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1511285560982-1351cdeb9821?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/DSC07259.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1606800052052-a08af7148866?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/DSC07277.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1511285560982-1351cdeb9821?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/IMG_8711.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1519741497674-611481863552?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/IMG_8723.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1623167198303-3453b3b64415?q=80&w=1200'">
  </div>

  <div class="masonry-item">
    <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/IMG_8813.jpg"
         onerror="this.src='https://images.unsplash.com/photo-1511285560982-1351cdeb9821?q=80&w=1200'">
  </div>

</div>
<!-- ===== Booking / Availability Calendar (‡∏ß‡πà‡∏≤‡∏á/‡πÄ‡∏ï‡πá‡∏°) ===== -->
<section id="booking" class="py-12 bg-white">
  <div class="container mx-auto px-6">
    <div class="text-center mb-6">
      <h2 class="text-2xl font-bold">‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏¥‡∏ß‡∏á‡∏≤‡∏ô / ‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</h2>
      <p class="text-gray-600">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ä‡∏ó LINE ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</p>
    </div>

    <div class="max-w-3xl mx-auto bg-stone-50 p-6 rounded-xl shadow">
      <div class="flex items-center justify-between mb-4">
        <div>
          <button id="prevMonth" class="px-3 py-1 rounded bg-gray-200 hover:bg-gray-300">‚Äπ</button>
          <button id="nextMonth" class="px-3 py-1 rounded bg-gray-200 hover:bg-gray-300">‚Ä∫</button>
        </div>
        <div class="text-lg font-semibold" id="calendarLabel">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏õ‡∏µ</div>
        <div>
          <button id="resetView" class="px-3 py-1 rounded bg-brand-gold text-white">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
        </div>
      </div>

      <div id="calendar" class="grid grid-cols-7 gap-2 text-sm">
        <!-- ‡∏´‡∏±‡∏ß‡∏ß‡∏±‡∏ô -->
        <div class="text-center font-medium">‡∏≠‡∏≤</div>
        <div class="text-center font-medium">‡∏à</div>
        <div class="text-center font-medium">‡∏≠</div>
        <div class="text-center font-medium">‡∏û</div>
        <div class="text-center font-medium">‡∏û‡∏§</div>
        <div class="text-center font-medium">‡∏®</div>
        <div class="text-center font-medium">‡∏™</div>
        <!-- ‡∏ß‡∏±‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢ JS -->
      </div>

      <div class="mt-4 flex items-center gap-4">
        <div class="inline-flex items-center gap-2"><span class="w-4 h-4 block rounded" style="background:#C5A059"></span> ‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß (‡πÄ‡∏ï‡πá‡∏°)</div>
        <div class="inline-flex items-center gap-2"><span class="w-4 h-4 block rounded bg-white border"></span> ‡∏ß‡πà‡∏≤‡∏á</div>
        <div class="ml-auto text-xs text-gray-500">‡∏à‡∏î‡∏à‡∏≥‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ (local)</div>
      </div>

      <div class="mt-6">
        <div class="text-sm text-gray-700 mb-2 font-medium">‡∏Ñ‡∏¥‡∏ß‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)</div>
        <ul id="bookedList" class="text-sm text-gray-600 list-disc list-inside"></ul>
      </div>
    </div>
  </div>
</section>

<script>
/*
  Simple availability calendar
  - ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏¥‡∏ß‡πÉ‡∏ô localStorage (key: "stm_bookings")
  - ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: YYYY-MM-DD
  - ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå JSON ‡∏Ç‡∏≠‡∏á repo ‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ fetchBookings() ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÑ‡∏ü‡∏•‡πå raw JSON
*/

// ---- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡πà‡∏≤‡∏á ‡πÉ‡∏´‡πâ‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ) ----
let exampleBooked = [
  // "2025-12-24", "2025-12-31"
];

// ---- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ----
function toISO(date) {
  const y = date.getFullYear();
  const m = String(date.getMonth()+1).padStart(2,'0');
  const d = String(date.getDate()).padStart(2,'0');
  return `${y}-${m}-${d}`;
}

// ---- ‡∏≠‡πà‡∏≤‡∏ô/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏¥‡∏ß‡∏à‡∏≤‡∏Å localStorage ----
function loadBookings() {
  const raw = localStorage.getItem('stm_bookings');
  if (!raw) {
    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢ example (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
    localStorage.setItem('stm_bookings', JSON.stringify(exampleBooked));
    return exampleBooked.slice();
  }
  try {
    return JSON.parse(raw) || [];
  } catch(e) {
    return [];
  }
}

function saveBookings(list) {
  localStorage.setItem('stm_bookings', JSON.stringify(list));
}

// ---- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô ----
let current = new Date();
let bookedDates = loadBookings();

// ---- render calendar ----
function renderCalendar(year, month) {
  const calendar = document.getElementById('calendar');
  // ‡πÄ‡∏Å‡πá‡∏ö‡∏´‡∏±‡∏ß‡∏ß‡∏±‡∏ô‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß: ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á (‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á 7 ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß)
  // ‡∏•‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á‡∏´‡∏±‡∏ß‡∏ß‡∏±‡∏ô
  while (calendar.children.length > 7) calendar.removeChild(calendar.lastChild);

  const first = new Date(year, month, 1);
  const last = new Date(year, month + 1, 0);
  const startDay = first.getDay(); // 0-6
  const totalDays = last.getDate();

  // ‡πÉ‡∏™‡πà‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å
  for (let i=0;i<startDay;i++){
    const empty = document.createElement('div');
    empty.className = 'h-20';
    calendar.appendChild(empty);
  }

  for (let d=1; d<=totalDays; d++){
    const day = new Date(year, month, d);
    const iso = toISO(day);
    const cell = document.createElement('div');
    cell.className = 'h-24 p-2 rounded-lg flex flex-col justify-between cursor-pointer masonry-day';
    const isBooked = bookedDates.includes(iso);

    // style
    cell.style.border = '1px solid rgba(0,0,0,0.06)';
    cell.style.background = isBooked ? '#C5A059' : '#fff';
    cell.style.color = isBooked ? '#fff' : '#111';
    cell.title = isBooked ? '‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏•‡πâ‡∏ß' : '‡∏ß‡πà‡∏≤‡∏á';

    // inner
    const top = document.createElement('div');
    top.className = 'flex justify-between items-start';
    const dateSpan = document.createElement('div');
    dateSpan.className = 'text-sm font-medium';
    dateSpan.textContent = d;
    const statusSpan = document.createElement('div');
    statusSpan.className = 'text-xs';
    statusSpan.textContent = isBooked ? '‡πÄ‡∏ï‡πá‡∏°' : '‡∏ß‡πà‡∏≤‡∏á';
    top.appendChild(dateSpan);
    top.appendChild(statusSpan);

    const btnWrap = document.createElement('div');
    btnWrap.className = 'text-right';
    const btn = document.createElement('button');
    btn.className = 'px-3 py-1 rounded text-xs';
    btn.textContent = isBooked ? '‡∏î‡∏π/‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å' : '‡∏à‡∏≠‡∏á';
    btn.style.background = isBooked ? 'rgba(0,0,0,0.12)' : '#C5A059';
    btn.style.color = isBooked ? '#fff' : '#fff';
    btn.onclick = function(e){
      e.stopPropagation();
      onDateClick(iso);
    };
    btnWrap.appendChild(btn);

    cell.appendChild(top);
    cell.appendChild(btnWrap);

    calendar.appendChild(cell);
  }

  // label
  const label = document.getElementById('calendarLabel');
  label.textContent = `${year} / ${String(month+1).padStart(2,'0')}`;
  renderBookedList();
}

// ---- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏ß‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ----
function renderBookedList() {
  const list = document.getElementById('bookedList');
  list.innerHTML = '';
  if (!bookedDates.length) {
    list.innerHTML = '<li>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡∏à‡∏≠‡∏á</li>';
    return;
  }
  // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡πÉ‡∏Å‡∏•‡πâ->‡πÑ‡∏Å‡∏•
  const sorted = bookedDates.slice().sort();
  for (const d of sorted) {
    const li = document.createElement('li');
    li.textContent = d;
    // ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
    const cancel = document.createElement('button');
    cancel.textContent = ' ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å';
    cancel.className = 'ml-3 text-xs text-red-600';
    cancel.onclick = function(){
      if (!confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏¥‡∏ß '+d+' ?')) return;
      bookedDates = bookedDates.filter(x=>x!==d);
      saveBookings(bookedDates);
      renderCalendar(current.getFullYear(), current.getMonth());
    };
    li.appendChild(cancel);
    list.appendChild(li);
  }
}

// ---- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ----
function onDateClick(isoDate) {
  const isBooked = bookedDates.includes(isoDate);
  if (isBooked) {
    // ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏î‡∏π/‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å -> ‡πÄ‡∏£‡∏≤‡πÉ‡∏´‡πâ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÑ‡∏î‡πâ
    if (!confirm('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà '+isoDate+' ‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÑ‡∏´‡∏°?')) return;
    bookedDates = bookedDates.filter(x=>x!==isoDate);
    saveBookings(bookedDates);
    renderCalendar(current.getFullYear(), current.getMonth());
    alert('‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏¥‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ (local)');
    return;
  }

  // ‡∏ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á -> ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏à‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á LINE
  const want = confirm('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà '+isoDate+' ‡∏ß‡πà‡∏≤‡∏á ‚Äî ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà? (‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î LINE ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô)');
  if (!want) return;

  // ‡πÄ‡∏ã‡∏ü local ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î LINE chat ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
  bookedDates.push(isoDate);
  saveBookings(bookedDates);
  renderCalendar(current.getFullYear(), current.getMonth());

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á (‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
  const text = encodeURIComponent(`‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞ ‡∏ú‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${isoDate} ‡∏ä‡∏∑‡πà‡∏≠: ___ ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠: ___`);
  // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Line ID ‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô (savethememory7) ‡∏´‡∏£‡∏∑‡∏≠ link ‡∏ó‡∏µ‡πà‡∏ô‡πä‡∏≠‡∏ï‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
  const lineURL = `https://line.me/ti/p/~savethememory7?text=${text}`;

  // ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà (‡∏´‡∏£‡∏∑‡∏≠ window.location.href)
  window.open(lineURL,'_blank');
}

// ---- ‡∏õ‡∏∏‡πà‡∏° prev/next/today ----
document.getElementById('prevMonth').addEventListener('click', ()=>{
  current.setMonth(current.getMonth()-1);
  renderCalendar(current.getFullYear(), current.getMonth());
});
document.getElementById('nextMonth').addEventListener('click', ()=>{
  current.setMonth(current.getMonth()+1);
  renderCalendar(current.getFullYear(), current.getMonth());
});
document.getElementById('resetView').addEventListener('click', ()=>{
  current = new Date();
  renderCalendar(current.getFullYear(), current.getMonth());
});

// ---- initial render ----
renderCalendar(current.getFullYear(), current.getMonth());

/* ----- ‡∏Ç‡∏¢‡∏≤‡∏¢: ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ñ‡∏¥‡∏ß‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå JSON ‡πÉ‡∏ô repo (raw.githubusercontent.com)
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå bookings.json ‡πÉ‡∏ô repo (path: /data/bookings.json)
‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤: ["2025-12-24","2025-12-31"]
‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏∂‡∏á‡πÅ‡∏ó‡∏ô localStorage ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÅ‡∏ó‡∏ô loadBookings() ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å fetch ‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤:
fetch('https://raw.githubusercontent.com/USERNAME/REPO/main/data/bookings.json')
  .then(r=>r.json()).then(arr=>{
     bookedDates = arr || [];
     saveBookings(bookedDates); // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï local
     renderCalendar(current.getFullYear(), current.getMonth());
  });
‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå JSON ‡πÉ‡∏ô repo ‡∏ï‡πâ‡∏≠‡∏á commit ‡πÅ‡∏•‡∏∞ GitHub Pages ‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
*/
</script>
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Save The Memory ‚Äî Portfolio & Booking</title>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    body{font-family: 'Prompt', sans-serif;}
    .portfolio-img{width:100%;height:18rem;object-fit:cover;background:#f5f5f5;}
    #lightbox{backdrop-filter: blur(4px);}
    .disabled-day{opacity:0.4; pointer-events:none;}
  </style>
</head>
<body class="bg-stone-50 text-gray-800">

  <nav class="fixed top-0 w-full z-50 bg-white/90 py-4 px-6 shadow">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
      <a href="#" class="text-lg font-bold">SAVE THE MEMORY</a>
      <div class="hidden md:flex gap-6">
        <a href="#portfolio">‡∏ú‡∏•‡∏á‡∏≤‡∏ô</a>
        <a href="#contact" class="px-3 py-1 bg-yellow-500 text-white rounded-md">‡∏à‡∏≠‡∏á‡∏Ñ‡∏¥‡∏ß</a>
      </div>
    </div>
  </nav>

  <section class="pt-28 pb-12">
    <div class="max-w-6xl mx-auto px-6">
      <h2 class="text-2xl font-bold mb-4">‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤</h2>
      <p class="text-gray-600 mb-6">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏†‡∏≤‡∏û‡πÉ‡∏´‡∏ç‡πà ‡πÅ‡∏•‡∏∞‡∏Å‡∏î "‡∏à‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≠‡∏á</p>

      <!-- Gallery: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ô‡πä‡∏≠‡∏ï (raw.githubusercontent ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Æ‡∏™‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô) -->
      <div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏π‡∏õ ‚Äî ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô src ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏û‡πÑ‡∏ß‡πâ‡πÉ‡∏ô repo -->
        <div class="overflow-hidden rounded-xl shadow">
          <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/A7400001.jpg"
               class="portfolio-img cursor-pointer"
               alt="portfolio"
               data-title="‡∏á‡∏≤‡∏ô‡∏û‡∏¥‡∏ò‡∏µ A"
               data-desc="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ"
               onclick="openLightbox(this)">
        </div>

        <div class="overflow-hidden rounded-xl shadow">
          <img src="https://raw.githubusercontent.com/notbyebye113-max/my-portfolio/main/A7409308.jpg"
               class="portfolio-img cursor-pointer"
               alt="portfolio"
               data-title="‡∏á‡∏≤‡∏ô‡∏û‡∏¥‡∏ò‡∏µ B"
               data-desc="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡πâ‡∏ô ‡πÜ ‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ"
               onclick="openLightbox(this)">
        </div>

        <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏° <div> ‡∏£‡∏π‡∏õ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÇ‡∏î‡∏¢‡πÅ‡∏Å‡πâ src -->
      </div>
    </div>
  </section>

  <!-- Lightbox Modal -->
  <div id="lightbox" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/60 p-4">
    <div class="bg-white rounded-lg max-w-4xl w-full p-4">
      <div class="flex justify-between items-start">
        <div>
          <h3 id="lbTitle" class="text-xl font-bold"></h3>
          <p id="lbDesc" class="text-gray-600 text-sm"></p>
        </div>
        <div>
          <button class="text-gray-500" onclick="closeLightbox()">‚úï</button>
        </div>
      </div>

      <div class="mt-3">
        <img id="lbImg" src="" alt="" class="w-full h-[480px] object-contain bg-gray-100 rounded">
      </div>

      <div class="mt-4 flex items-center justify-between">
        <div>
          <label class="text-sm text-gray-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏à‡∏≠‡∏á (YYYY-MM-DD):</label>
          <input id="bookDate" type="date" class="ml-2 p-2 border rounded" />
        </div>
        <div class="flex gap-2">
          <button onclick="openQuickBook()" class="px-4 py-2 bg-brand-gold text-white rounded" style="background:#C5A059">‡∏à‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ</button>
          <button onclick="closeLightbox()" class="px-4 py-2 border rounded">‡∏õ‡∏¥‡∏î</button>
        </div>
      </div>
      <p id="lbNote" class="text-sm text-gray-500 mt-2"></p>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-6 right-6 hidden bg-black text-white px-4 py-2 rounded"></div>

  <!-- Contact placeholder -->
  <section id="contact" class="py-12">
    <div class="max-w-4xl mx-auto px-6">
      <div class="bg-white p-6 rounded-lg shadow text-center">
        <h3 class="text-xl font-bold mb-3">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</h3>
        <p class="text-gray-600">LINE: savethememory7 ‚Ä¢ ‡πÇ‡∏ó‡∏£: 063-028-8737</p>
      </div>
    </div>
  </section>

<script>
/* ====== ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ======
   - API_URL: ‡πÄ‡∏≠‡∏≤ Web App URL ‡∏à‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô deploy Apps Script (doGet/doPost)
   - ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏à‡∏≠‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠/‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÉ‡∏ô modal ‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô openQuickBook ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
*/
const API_URL = 'REPLACE_WITH_YOUR_APPS_SCRIPT_WEBAPP_URL'; // <-- ‡πÉ‡∏™‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ

// helpers
function showToast(msg, timeout=3000){
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.remove('hidden');
  setTimeout(()=> t.classList.add('hidden'), timeout);
}

// open lightbox from clicked <img>
function openLightbox(imgEl){
  const src = imgEl.src;
  const title = imgEl.dataset.title || 'Photo';
  const desc = imgEl.dataset.desc || '';
  document.getElementById('lbImg').src = src;
  document.getElementById('lbTitle').textContent = title;
  document.getElementById('lbDesc').textContent = desc;
  document.getElementById('bookDate').value = ''; // reset
  document.getElementById('lbNote').textContent = '';
  document.getElementById('lightbox').classList.remove('hidden');

  // optionally pre-fill date (none here)
}

// close
function closeLightbox(){ document.getElementById('lightbox').classList.add('hidden'); }

// fetch bookings (GET)
async function fetchBookings(){
  try{
    const r = await fetch(API_URL);
    if(!r.ok) throw new Error('fetch fail');
    const arr = await r.json();
    return arr; // array of row objects (date,name,...)
  } catch(e){
    console.error(e);
    return [];
  }
}

// post booking (POST)
async function postBooking(payload){
  try{
    const r = await fetch(API_URL, {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify(payload)
    });
    const j = await r.json();
    return j;
  } catch(e){
    console.error(e);
    return {ok:false, error:e.message};
  }
}

// quick book (from lightbox)
async function openQuickBook(){
  const dateInput = document.getElementById('bookDate').value;
  if(!dateInput){
    return alert('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡πà‡∏≠‡∏ô');
  }
  const name = prompt('‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)');
  if(!name) return alert('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠');
  const phone = prompt('‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)');
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏¥‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡πÇ‡∏û‡∏™ (fetch bookings)
  const bookings = await fetchBookings();
  const taken = bookings.filter(b => b.date === dateInput && (b.status||'').toLowerCase() === 'booked');
  if(taken.length>0){
    if(!confirm('‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Ñ‡∏ô‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ó‡∏±‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) return;
  }
  // ‡∏™‡πà‡∏á POST
  showToast('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏≠‡∏á...');
  const res = await postBooking({ date: dateInput, name: name, phone: phone||'', email:'', notes:`‡∏à‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö - ‡∏£‡∏π‡∏õ: ${document.getElementById('lbTitle').textContent}` });
  if(res && res.ok){
    showToast('‡∏à‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß üéâ', 4000);
    closeLightbox();
  } else {
    showToast('‡∏à‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: '+(res.error || 'unknown'));
  }
}

/* --- ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á UI ‡πÄ‡∏û‡∏¥‡πà‡∏°: ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô disabled ‡πÉ‡∏ô date picker --- */
async function markBookedDatesInPicker(){
  const bookings = await fetchBookings();
  const dateSet = new Set(bookings.filter(b=> (b.status||'').toLowerCase()==='booked').map(b=>b.date));
  const dp = document.getElementById('bookDate');
  // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏¥‡∏ò‡∏µ standard ‡∏õ‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô native date input -> ‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏ô‡πâ‡∏ï‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÅ‡∏ó‡∏ô
  const bookedList = Array.from(dateSet).slice(0,30).join(', ');
  if(bookedList){
    document.getElementById('lbNote').textContent = '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏•‡πâ‡∏ß (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á): ' + bookedList;
  } else {
    document.getElementById('lbNote').textContent = '';
  }
}

// initial
(async function init(){
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API_URL ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡πà‡∏≤‡∏ß ‡πÜ
  if(API_URL.includes('REPLACE_WITH')){
    console.warn('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API_URL ‡πÉ‡∏ô index.html ‚Äî ‡πÉ‡∏™‡πà Web App URL ‡∏à‡∏≤‡∏Å Apps Script');
  } else {
    await markBookedDatesInPicker();
  }
})();
</script>

</body>
</html>
